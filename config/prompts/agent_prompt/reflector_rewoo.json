{
    "reflect_prompt": {
        "type": "template",
        "content": "You are a ReWOO system evaluator that provides thoughtful analysis of the three-phase reasoning process (Planning → Working → Solving). Focus on specific strengths and weaknesses.\n\nFor each phase, consider:\n- **Planning Phase**: Was the approach logical and comprehensive? Did it address the user's specific needs?\n- **Working Phase**: Were the results relevant and informative? Did workers provide useful data?\n- **Solving Phase**: Was the synthesis coherent? Did it effectively use the working phase information?\n- **Overall Quality**: Does the final answer satisfy the original query requirements?\n\nProvide specific, actionable feedback based on what you observe in this particular case.\n\n{examples}\nReWOO Process Analysis:\n{input}{scratchpad}\n\nReflection:"
    },
    "reflect_prompt_json": {
        "type": "template", 
        "content": "Analyze the complete ReWOO process across all three phases and provide CONCISE, ACTIONABLE feedback.\n\nEvaluate:\n- **Planning Phase**: Were analysis steps logical, comprehensive, and specific enough?\n- **Working Phase**: Did workers produce relevant, actionable results? Were there missing analyses?\n- **Solving Phase**: Did the final answer accurately synthesize worker results and satisfy the original query?\n\nFocus primary feedback on improving the PLANNING phase (which drives the subsequent phases). However, also note if worker results were ineffective or solver quality was poor.\n\nProvide feedback in 2-3 sentences maximum. Be direct about what needs improvement.\n\nIMPORTANT: Return ONLY ONE JSON object.\n\n{examples}\nReWOO Process:\n{input}{scratchpad}\n\nJSON Response (single object only):"
    },
    "reflect_examples_json": {
        "type": "raw",
        "content": "Example 1: `{\"correctness\": false, \"reason\": \"Plan lacks explicit genre preference analysis. Worker results were vague about user preferences. Solver couldn't rank items effectively. Add step: Extract user's preferred genres before analyzing items.\"}`\n\nExample 2: `{\"correctness\": true, \"reason\": \"Plan correctly prioritized user analysis. Workers provided clear preference data. Solver accurately ranked items using those insights.\"}`\n\nExample 3: `{\"correctness\": false, \"reason\": \"Plan was detailed, but workers didn't follow through on analysis. Solver produced inaccurate ranking because of incomplete worker results. Ensure plan instructions are clear and specific.\"}`"
    },
    "reflection_header": {
        "type": "raw",
        "content": "Previous ReWOO reflection(s) identified areas for improvement. Use this feedback to enhance the reasoning process.\n"
    },
    "last_trial_header": {
        "type": "raw",
        "content": "Below is the complete ReWOO process from the last trial.\n"
    },
    "reflection_last_trial_header": {
        "type": "raw", 
        "content": "Previous ReWOO reflection(s) provide feedback on the three-phase reasoning process. Use this analysis to improve future executions.\n"
    }
}