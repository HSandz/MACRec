{
    "reflect_prompt": {
        "type": "template",
        "content": "You are a reasoning agent that improves through self-reflection. Analyze the previous trial and determine if the answer is correct. Identify potential problems and devise a concise plan to improve. Focus on:\n- Correct answer format and completion\n- Proper action sequence\n- Logical reasoning flow\n\n{examples}\nPrevious trial:\nInput: {input}{scratchpad}\n\nReflection:"
    },
    "reflect_prompt_json": {
        "type": "template",
        "content": "You are a reasoning agent that improves through self-reflection. Analyze the previous trial and provide a SINGLE overall assessment.\n\nCheck:\n1. Genre preference accuracy based on user ratings\n2. Systematic ranking methodology\n3. User preference alignment\n\nIdentify problems and provide specific guidance for improvement. Focus on:\n- Genre preference weighting based on ratings\n- Systematic scoring methodology\n- Action format correctness\n\nReturn ONLY ONE JSON object with your overall assessment. If ANY critical issues exist, set correctness to false.\n\n{examples}\nPrevious trial:\nInput: {input}{scratchpad}\n\nReflection (return ONLY ONE JSON object):"
    },
    "reflect_examples_json": {
        "type": "raw",
        "content": "Example 1: `{\"correctness\": false, \"reason\": \"The plan lacks specific analysis of user preferences before item comparison. Should first extract user's preferred brands and categories, then match items accordingly.\"}`\n\nExample 2: `{\"correctness\": true, \"reason\": \"The plan systematically analyzes user preferences first, then evaluates items based on those preferences. Methodology is sound.\"}`\n\nIMPORTANT: Return ONLY ONE JSON object, not an array."
    },
    "reflection_header": {
        "type": "raw",
        "content": "Previous reflection(s) provide a new plan to complete the task. Use them to improve your strategy.\n"
    },
    "last_trial_header": {
        "type": "raw",
        "content": "Below is the last trial you attempted to complete the task.\n"
    },
    "reflection_last_trial_header": {
        "type": "raw",
        "content": "Previous reflection(s) provide a new plan to complete the task. Use them to improve your strategy.\n"
    }
}